$(function(){function d(){a.find(".ducks").html(s),o.find(".shots").html(l),$(".plural").show(),c.css({cursor:"url(../img/crosshairs.png) 25 25, crosshair"});for(var d=0;d<s;d++)$(".duckwrap").append('<div class="duck duck'+d+'"></div>'),$(".duck"+d).css("animation-delay",500*d+"ms")}var c=$("#gallery"),s=c.width()/100+2,i=0,a=$("#counter"),l=2*s,o=$("#tries"),t=0,n=1;d(),c.click(function(d){0==t&&(l>=1&&l--,o.find(".shots").html(l),1==l&&o.find(".plural").hide(),0==l&&(o.find(".plural").show(),$("#card.alas").show(),t=1,c.css({cursor:"default"})));var s=$(this).offset(),i=d.pageX-s.left,a=d.pageY-s.top;0!=n&&c.append('<div class="hole" style="left:'+i+"px; top:"+a+'px"></div>'),n=1}),$(".duckwrap").on("click",".duck",function(){0==t&&($(this).animate({width:500,height:500,top:-600},500),i++,a.find(".ducks").html(s-i),i==s-1?a.find(".plural").hide():a.find(".plural").show(),i==s&&($("#card.hooray").fadeIn("slow"),t=1,c.css({cursor:"default"}))),n=0}),$(".collect").click(function(){$("#teddy").fadeIn("slow")}),$("#teddy .closeTeddy").click(function(){$("#teddy").fadeOut("slow")}),$(".again").click(function(){i=0,n=1,t=0,$(".hooray").hide(),$(".alas").hide(),l=2*s+1,$(".duck").remove(),d()})});